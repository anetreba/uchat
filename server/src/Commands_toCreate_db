sqlite3 server.db

CREATE TABLE Users(
    id      INTEGER        NOT NULL       PRIMARY KEY AUTOINCREMENT,
    login   VARCHAR(25)    NOT NULL,
    pass    VARCHAR(255)   NOT NULL,
    nick    VARCHAR(255)   NOT NULL
);

CREATE TABLE Messages(
    id                  INTEGER     NOT NULL       PRIMARY KEY AUTOINCREMENT,
    message             TEXT        NOT NULL,
    sender_id           INTEGER     NOT NULL,
    room_id             INTEGER,
    recieve_status      INTEGER,
    attaches            INTEGER
);

CREATE TABLE Rooms(
    id                  INTEGER     NOT NULL       PRIMARY KEY AUTOINCREMENT,
    room_name           TEXT,
    members             TEXT        NOT NULL
);

INSERT INTO Rooms VALUES(1, 'Friends', '1,2,3');
INSERT INTO Rooms VALUES(2, 'Friends', '2,3');
INSERT INTO Rooms VALUES(3, 'Friends', '1,3');

INSERT INTO Messages VALUES(1, 'Hi! ma friend!', 2, 2, 0, 0);
INSERT INTO Messages VALUES(2, 'Hi!', 3, 2, 0, 0);



SELECT message FROM Messages INNER JOIN Rooms ON Rooms.id = room_id;